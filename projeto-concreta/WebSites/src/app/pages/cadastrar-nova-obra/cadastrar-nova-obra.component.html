<app-navbar></app-navbar>
<div [formGroup]="formGroup">
<!-- Título Principal -->
<header class="titulo-principal">
  <h1>Siga o passo a passo para efetuar o <span class="negrito">cadastro</span> da sua <span class="negrito">obra com sucesso!</span></h1>
</header>

<!-- Passo 1 -->
<section class="passo passo-1">
  <h2>1º Passo</h2>
  <hr>
  <div class="form-container">
    <h3>Sobre a obra:</h3>
    <form [formGroup]="formGroup">
      <div class="campo">
        <label for="nome-obra">Nome da obra</label>
        <input type="text" id="nome-obra" placeholder="Nome da obra" required formControlName="nomeObra">
      </div>
      <div class="campo">
        <label for="construtora">Construtora</label>
        <input type="text" id="construtora" placeholder="Construtora" required formControlName="construtora">
      </div>
      <div class="campo">
        <label for="localizacao">Localização (Cidade - Estado)</label>
        <input type="text" id="localizacao" placeholder="Localização (Cidade - Estado)" required formControlName="localizacao">
      </div>
      <div class="campo prazo-conclusao">
        <label for="prazo-conclusao">Prazo de conclusão</label>
        <input type="date" id="prazo-etapa" formControlName="prazoConclusao">
      </div>
    </form>
  </div>
</section>

<!-- Passo 2 -->
<h2>2º Passo</h2>
<hr>
<section *ngFor="let etapa of etapas; let i = index" class="passo">
  <div class="form-container">
    <h3>Etapas da obra:</h3>
    <h4>Etapa {{ i + 1 }}</h4>
    <form [formGroup]="etapasForms[i]">
      <div class="campo">
        <label for="nome-etapa-{{i}}">Nome da etapa</label>
        <input type="text" id="nome-etapa-{{i}}" placeholder="Nome da etapa" required formControlName="nomeEtapa">
      </div>
      <div class="campo">
        <label for="descricao-etapa-{{i}}">Descrição da etapa</label>
        <textarea id="descricao-etapa-{{i}}" placeholder="Escreva sua mensagem aqui..." required formControlName="descricaoEtapa"></textarea>
      </div>
      <div class="campo prazo-conclusao">
        <label for="prazo-conclusao-etapa-{{i}}">Prazo de conclusão</label>
        <input type="date" id="prazo-conclusao-etapa-{{i}}" formControlName="prazoConclusaoEtapa">
      </div>
    </form>
  </div>
</section>
<div class="nova-etapa">
  <a href="#" (click)="adicionarEtapa($event)" class="nova-etapa-link">+ Nova Etapa</a>
</div>

<div class="botoes-container">
  <button class="btn-cadastrar" (click)="save()">CADASTRAR</button>
  <button class="btn-cancelar">CANCELAR</button>
</div>

</div>
<app-footer></app-footer>
